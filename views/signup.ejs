<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Signup | Form</title>
    <link rel="stylesheet" href="/style.css" />
    <script
      src="https://kit.fontawesome.com/bb7a749298.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="wrapper">
      <div class="title"><span>Signup</span></div>
      <form action="#" method="post">
        <% if(msg && msg.length > 0){ %>
          <div class="row">
          <p class="error"><%= msg %></p>
        </div>
      <%  } %>
        <div class="row">
          <i class="fa-regular fa-envelope"></i>
          <input
            type="email"
            name="email"
            placeholder="Email Address"
            required
          />
        </div>
        <div class="row">
          <i class="fas fa-user"></i>
          <input type="text" name="name" placeholder="Full Name" required />
        </div>
        <div class="row">
          <i class="fas fa-lock"></i>
          <input
            type="password"
            name="pass"
            id="password"
            placeholder="Password"
            required
          />
          <i class="fa-solid fa-eye open"></i>
        </div>
        <div class="row">
          <i class="fas fa-lock"></i>
          <input
            type="password"
            name="cpass"
            id="cpassword"
            placeholder="Confirm Password"
            required
          />
          <i class="fa-solid fa-eye cpass"></i>
        </div>
        <div class="row button">
          <input type="submit" value="Signup" />
        </div>
        <div class="signup-link">
          Already have an account? <a href="/login">Login</a>
        </div>
      </form>
    </div>
  </body>
  <script>
    window.addEventListener("pageshow", function (event) {
    if (event.persisted) {
      window.location.reload();
    }
  });

    function togglePassword(eyeIcon, inputId) {
      const input = document.getElementById(inputId);

      eyeIcon.addEventListener("click", () => {
        const isPassword = input.type === "password";

        input.type = isPassword ? "text" : "password";
        eyeIcon.classList.toggle("fa-eye", !isPassword);
        eyeIcon.classList.toggle("fa-eye-slash", isPassword);
      });
    }

    togglePassword(document.querySelector(".fa-eye"), "password");
    togglePassword(document.querySelector(".cpass"), "cpassword");
    
  </script>
</html>
